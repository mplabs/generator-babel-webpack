{"version":3,"sources":["../src/index.js"],"names":["module","exports","args","pkg","require","cmd","resolve","reject","error","stdout","stderr","done","async","log","chalk","red","exec","then","username","_showPrompts","catch","console","config","gitConfig","sync","user","prompts","type","name","message","default","store","appname","email","prompt","props","repo","description","author","variable","year","Date","getFullYear","template","mkdirp","installDependencies","bower","npm","skipInstall","options","Base"],"mappings":"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","sourcesContent":["'use strict';\nimport { Base } from 'yeoman-generator';\nimport chalk from 'chalk';\nimport yosay from 'yosay';\nimport mkdirp from 'mkdirp';\nimport camelcase from 'lodash.camelcase';\nimport kebabcase from 'lodash.kebabcase';\nimport trim from 'lodash.trim';\nimport { exec }  from 'child_process';\nimport gitConfig from 'git-config';\n\nmodule.exports = class GeneratorBabelWebpack extends Base {\n  constructor(...args) {\n    super(...args);\n    this.pkg = require('../package.json');\n  }\n\n  exec(cmd) {\n    return new Promise((resolve, reject) => {\n      exec(cmd, (error, stdout, stderr)=> {\n        if (error) {\n          return reject(error);\n        }\n        if (stderr) {\n          return reject(stderr);\n        }\n        return resolve(stdout);\n      });\n    });\n  }\n\n  prompting() {\n    const done = this.async();\n    this.log(yosay(`Welcome to the ${chalk.red('Babel Webpack Library')} generator!`));\n    this.exec('npm whoami')\n      .then(username => {\n        this.username = trim(username || '');\n        this._showPrompts(done);\n      })\n      .catch(error => console.error('Error getting npm user name: run `npm login`\\n', error));\n  }\n\n  _showPrompts(done) {\n    const config = gitConfig.sync();\n    config.user = config.user || {};\n    const prompts = [\n      {\n        type: 'input',\n        name: 'user',\n        message: 'What is the Github username/organization for this project?',\n        default: this.username,\n        store: true\n      },\n      {\n        type: 'input',\n        name: 'repo',\n        message: 'What is the repository/project name?',\n        default: kebabcase(this.appname)\n      },\n      {\n        type: 'input',\n        name: 'description',\n        message: 'What is a short description for this project?'\n      },\n      {\n        type: 'input',\n        name: 'author',\n        message: 'Who is the author of this project?',\n        default: config.user.name + ' <' + config.user.email + '>',\n        store: true\n      },\n      {\n        type: 'input',\n        name: 'variable',\n        message: 'What is the name of this project\\'s main variable?',\n        default: camelcase(this.appname)\n      }\n    ];\n\n    this.prompt(prompts, props => {\n      this.user = props.user;\n      this.repo = props.repo;\n      this.description = props.description;\n      this.author = props.author;\n      this.variable = props.variable;\n      this.year = new Date().getFullYear();\n      done();\n    });\n  }\n\n  writing() {\n    this.template('babelrc', '.babelrc');\n    this.template('bowerrc', '.bowerrc');\n    this.template('eslintrc', '.eslintrc');\n    this.template('eslintignore', '.eslintignore');\n    this.template('editorconfig', '.editorconfig');\n    this.template('gitignore', '.gitignore');\n    this.template('travis.yml', '.travis.yml');\n    this.template('istanbul.yml', '.istanbul.yml');\n    this.template('_bower.json', 'bower.json');\n    this.template('_package.json', 'package.json');\n    this.template('_karma.conf.js', 'karma.conf.js');\n    this.template('_LICENSE', 'LICENSE');\n    this.template('_README.md', 'README.md');\n    this.template('_CHANGELOG.md', 'CHANGELOG.md');\n    mkdirp.sync('src');\n    this.template('src', 'src');\n    mkdirp.sync('test');\n    this.template('test/*.js', 'test');\n    this.template('test/eslintrc', 'test/.eslintrc');\n    this.template('test/_mocha.opts', 'test/mocha.opts');\n    mkdirp.sync('webpack');\n    this.template('webpack/_webpack.config.base.js', 'webpack/webpack.config.base.js');\n    this.template('webpack/_webpack.config.development.js', 'webpack/webpack.config.development.js');\n    this.template('webpack/_webpack.config.production.js', 'webpack/webpack.config.production.js');\n  }\n\n  install() {\n    this.installDependencies({\n      bower: false,\n      npm: true,\n      skipInstall: this.options['skip-install']\n    });\n  }\n};\n"],"file":"index.js"}